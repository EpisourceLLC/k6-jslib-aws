(()=>{var r={41:(e,t)=>{var r;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=function(){return function n(o,i,c){function u(t,e){if(!i[t]){if(!o[t]){if(a)return a(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}r=i[t]={exports:{}},o[t][0].call(r.exports,function(e){return u(o[t][1][e]||e)},r,r.exports,n,o,i,c)}return i[t].exports}for(var a=void 0,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,r){var n=e("./v1"),o=e("./v4"),e=o;e.v1=n,e.v4=o,t.exports=e},{"./v1":4,"./v4":5}],2:[function(e,t,r){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(e,t){var r=t||0;return[(t=n)[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[+r]]].join("")}},{}],3:[function(e,t,r){var n,o,i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);i?(n=new Uint8Array(16),t.exports=function(){return i(n),n}):(o=new Array(16),t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o})},{}],4:[function(e,t,r){var f,l,p=e("./lib/rng"),h=e("./lib/bytesToUuid"),y=0,d=0;t.exports=function(e,t,r){var n=t&&r||0,o=t||[],i=(e=e||{}).node||f,c=void 0!==e.clockseq?e.clockseq:l;null!=i&&null!=c||(a=p(),null==i&&(i=f=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==c&&(c=l=16383&(a[6]<<8|a[7])));var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),r=void 0!==e.nsecs?e.nsecs:d+1,a=u-y+(r-d)/1e4;if(a<0&&void 0===e.clockseq&&(c=c+1&16383),1e4<=(r=(a<0||y<u)&&void 0===e.nsecs?0:r))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=u,l=c,r=(1e4*(268435455&(u+=122192928e5))+(d=r))%4294967296,o[n++]=r>>>24&255,o[n++]=r>>>16&255,o[n++]=r>>>8&255,o[n++]=255&r,u=u/4294967296*1e4&268435455,o[n++]=u>>>8&255,o[n++]=255&u,o[n++]=u>>>24&15|16,o[n++]=u>>>16&255,o[n++]=c>>>8|128,o[n++]=255&c;for(var s=0;s<6;++s)o[n+s]=i[s];return t||h(o)}},{"./lib/bytesToUuid":2,"./lib/rng":3}],5:[function(e,t,r){var c=e("./lib/rng"),u=e("./lib/bytesToUuid");t.exports=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||c)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[n+i]=o[i];return t||u(o)}},{"./lib/bytesToUuid":2,"./lib/rng":3}]},{},[1])(1)},"object"===n(t)?e.exports=r():void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)}},n={};function be(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return r[e](t,t.exports,be),t.exports}be.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return be.d(t,{a:t}),t},be.d=(e,t)=>{for(var r in t)be.o(t,r)&&!be.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},be.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),be.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var me={};(()=>{"use strict";be.r(me),be.d(me,{AWSConfig:()=>r,InvalidAWSConfigError:()=>s,InvalidSignatureError:()=>T,S3Client:()=>Z,S3ServiceError:()=>ee,SecretsManagerClient:()=>he,URIEncodingConfig:()=>M,signHeaders:()=>E});const f=require("k6/crypto");var l=be.n(f);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(r){var n=i();return function(){var e,t=u(r);return e=n?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function t(e){var r="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return n(e,arguments,u(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),c(t,e)}(e)}function n(e,t,r){return(n=i()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&c(n,r.prototype),n}).apply(null,arguments)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function e(t,r,n){if(a(this,e),"string"!=typeof t||""===t)throw new s("invalid AWS region; reason: should be a non empty string");if("string"!=typeof r||""===r)throw new s("invalid AWS access key ID; reason: should be a non empty string");if("string"!=typeof n||""===n)throw new s("invalid AWS secret access key; reason: should be a non empty string");this.region=t,this.accessKeyID=r,this.secretAccessKey=n},s=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,t(Error));var n=e(o);function o(){a(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.call.apply(n,[this].concat(t))}return o}();const p=require("k6/html");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(r){var n=v();return function(){var e,t=w(r);return e=n?(e=w(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==h(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function b(e){var r="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return m(e,arguments,w(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),g(t,e)}(e)}function m(e,t,r){return(m=v()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&g(n,r.prototype),n}).apply(null,arguments)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,b(Error));var e,t,r,n=d(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).name="AWSError",e.code=t,e}return e=o,r=[{key:"parseXML",value:function(e){e=(0,p.parseHTML)(e);return new o(e.find("Message").text(),e.find("Code").text())}}],(t=null)&&y(e.prototype,t),r&&y(e,r),o}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,i=[],c=!0,u=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=A(r);return e=n?(e=A(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==S(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r,n,o,i,c,u,a){var s=function(e,t,r,n){t=I(t),t=(0,f.hmac)("sha256","AWS4"+e,t,"binary"),r=(0,f.hmac)("sha256",t,r,"binary"),n=(0,f.hmac)("sha256",r,n,"binary");return(0,f.hmac)("sha256",n,"aws4_request","binary")}(c.secretAccessKey,t,c.region,u),r=function(e,t,r,n,o,i){e=e.toUpperCase(),t=function(e,t){if("/"==e)return e;var r=e;"/"==e[e.length-1]&&"/"!=r[r.length-1]&&(r+="/");return r=q(r,t.path),t.double?q(r,t.path):r}(t,i),i=function(e){if(!e)return"";"string"==typeof e&&(e=function(e){if("string"!=typeof e||0===e.length)return{};for(var t={},r=e.split("&").filter(function(e){return e}),n=0;n<r.length;n++){var o=r[n].split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):t[decodeURIComponent(r[n])]=""}return t}(e));return Object.keys(e).sort().map(function(t){return(Array.isArray(e[t])?e[t]:[e[t]]).sort().map(function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&")}).join("&")}(r),r=function(e){return e.constructor===Object&&0!==Object.entries(e).length?Object.entries(e).map(function(e){var t=j(e,2),e=t[0],t=t[1];return e.toLowerCase().trim()+":"+(Array.isArray(t)?t:[t]).map(function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}).join(",")+"\n"}).sort().join(""):""}(n),n=N(n),o=function(e){return e!==k?l().sha256(e||"","hex").toLowerCase():e}(o);return[e,t,i,r,n,o].join("\n")}(r,n,o,e,i,a),a=(n=t,o=c.region,i=u,a=(0,f.sha256)(r,"hex"),r=H(n),i=D(n,o,i),[x,r,i,a].join("\n")),t=D(t,c.region,u),u=N(e),a=(s=s,a=a,(0,f.hmac)("sha256",s,a,"hex")),a="".concat(x," Credential=").concat(c.accessKeyID,"/").concat(t,", SignedHeaders=").concat(u,", Signature=").concat(a);return e.Authorization=a,e}var T=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,O);var r=P(n);function n(e,t){return R(this,n),(t=r.call(this,e,t)).name="InvalidSignatureError",t}return n}();var x="AWS4-HMAC-SHA256",k="UNSIGNED-PAYLOAD";function D(e,t,r){return[I(e),t,r,"aws4_request"].join("/")}function N(e){if(e.constructor!==Object)throw new TypeError("headers should be an object");if(0===Object.entries(e).length)throw"headers should at least contain either the Host (HTTP 1.1) or :authority (HTTP 2) parameter";return Object.keys(e).map(function(e){return e.toLowerCase().trim()}).sort().join(";")}function q(e,r){return""==e?e:e.split("").map(function(e){return"A"<=(t=e)&&t<="Z"||"a"<=t&&t<="z"||"0"<=(t=e)&&t<="9"||"-._~".includes(e)?e:" "==e?"%20":"/"==e&&r?"/":"%"+e.charCodeAt(0).toString(16).toUpperCase();var t}).join("")}var M=function e(t,r){R(this,e),this.double=t,this.path=r};function H(e){return new Date(e).toISOString().replace(/[:\-]|\.\d{3}/g,"")}function I(e){return H(e).substring(0,8)}var z=require("k6/http"),U=be.n(z);function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var X=function(){function n(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.awsConfig=e,this.serviceName=t,this.URIencodingConfig=r}var e,t,r;return e=n,(t=[{key:"buildRequest",value:function(e,t,r,n,o,i){var c=Date.now(),u=H(c);i.Host=t,i["X-Amz-Date"]=u,i=E(i,c,e,r,n,o,this.awsConfig,this.serviceName,this.URIencodingConfig),r=""!==r?r:"/";r="https://".concat(t).concat(r);return""!==n&&(r+="?".concat(n)),{url:r,headers:i}}}])&&L(e.prototype,t),r&&L(e,r),n}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t,r){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(r):t.value}})(e,t,r||e)}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=K(r);return e=n?(e=K(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==B(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(){V(o,X);var e,t,r,n=F(o);function o(e){W(this,o);var t=new M(!1,!0);return n.call(this,e,"s3",t)}return e=o,(t=[{key:"listBuckets",value:function(){var e="".concat(this.serviceName,".").concat(this.awsConfig.region,".amazonaws.com"),t=G(K(o.prototype),"buildRequest",this).call(this,"GET",e,"/","","",{"X-Amz-Content-SHA256":(0,f.sha256)("","hex")}),e=t.url,t=t.headers,t=U().request("GET",e,"",{headers:t});this._handle_error(t.error_code,t.error,t.body);var n=[];return(0,p.parseHTML)(t.body).find("Buckets").children().each(function(e,t){var r=new $;t.children().forEach(function(e){switch(e.nodeName()){case"name":Object.assign(r,{name:e.textContent()});case"creationdate":var t=Date.parse(e.textContent(),"YYYY-MM-ddTHH:mm:ss.sssZ");Object.assign(r,{creationDate:t})}}),n.push(r)}),n}},{key:"listObjects",value:function(e){var t="".concat(e,".").concat(this.serviceName,".").concat(this.awsConfig.region,".amazonaws.com"),e=G(K(o.prototype),"buildRequest",this).call(this,"GET",t,"/","list-type=2","",{"X-Amz-Content-SHA256":(0,f.sha256)("","hex")}),t=e.url,e=e.headers,e=U().request("GET",t,"",{headers:e});this._handle_error(e.error_code,e.error,e.body);var n=[];return(0,p.parseHTML)(e.body).find("Contents").each(function(e,t){var r=new Q;t.children().forEach(function(e){switch(e.nodeName()){case"key":Object.assign(r,{key:e.textContent()});case"lastmodified":var t=Date.parse(e.textContent(),"YYYY-MM-ddTHH:mm:ss.sssZ");Object.assign(r,{lastModified:t});case"etag":Object.assign(r,{etag:e.textContent()});case"size":Object.assign(r,{size:parseInt(e.textContent())});case"storageclass":Object.assign(r,{storageClass:e.textContent()})}}),n.push(r)}),n}},{key:"getObject",value:function(e,t){var r="".concat(e,".").concat(this.serviceName,".").concat(this.awsConfig.region,".amazonaws.com"),e="/".concat(t),r=G(K(o.prototype),"buildRequest",this).call(this,"GET",r,e,"","",{"X-Amz-Content-SHA256":(0,f.sha256)("","hex")}),e=r.url,r=r.headers,r=U().request("GET",e,"",{headers:r});return this._handle_error(r.error_code,r.error,r.body),new Q(t,r.headers["Last-Modified"],r.headers.ETag,r.headers["Content-Length"],"",r.body)}},{key:"putObject",value:function(e,t,r){e="".concat(e,".").concat(this.serviceName,".").concat(this.awsConfig.region,".amazonaws.com"),t="/".concat(t),e=G(K(o.prototype),"buildRequest",this).call(this,"PUT",e,t,"",r,{"X-Amz-Content-SHA256":(0,f.sha256)(r,"hex")}),t=e.url,e=e.headers,e=U().request("PUT",t,r,{headers:e});this._handle_error(e.error_code,e.error,e.body)}},{key:"deleteObject",value:function(e,t){e="".concat(e,".").concat(this.serviceName,".").concat(this.awsConfig.region,".amazonaws.com"),t="/".concat(t),e=G(K(o.prototype),"buildRequest",this).call(this,"DELETE",e,t,"","",{"X-Amz-Content-SHA256":(0,f.sha256)("","hex")}),t=e.url,e=e.headers,e=U().request("DELETE",t,"",{headers:e});this._handle_error(e.error_code,e.error,e.body)}},{key:"_handle_error",value:function(e,t,r){if(""!=t&&0!==e){if(t&&t.startsWith("301"))throw new ee("Resource not found","ResourceNotFound","getObject");r=O.parseXML(r);if("AuthorizationHeaderMalformed"!==r.code)throw new ee(r.message,r.code,"listObjects");throw new T(r.message,r.code)}}}])&&J(e.prototype,t),r&&J(e,r),o}(),$=function e(t,r){W(this,e),this.name=t,this.creationDate=r},Q=function e(t,r,n,o,i){var c=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;W(this,e),this.key=t,this.lastModified=r,this.etag=n,this.size=o,this.storageClass=i||"",this.data=c},ee=function(){V(o,O);var n=F(o);function o(e,t,r){return W(this,o),(t=n.call(this,e,t)).name="S3ServiceError",t.operation=r,t}return o}(),te=be(41);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function oe(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ne(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ue(e,t,r){return t&&ce(e.prototype,t),r&&ce(e,r),e}function ae(e,t,r){return(ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pe(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(r):t.value}})(e,t,r||e)}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=pe(r);return e=n?(e=pe(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==re(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(){se(i,X);var r=le(i);function i(e){ie(this,i);var t=new M(!0,!1);return(t=r.call(this,e,"secretsmanager",t)).method="POST",t.commonHeaders={"Accept-Encoding":"identity","Content-Type":"application/x-amz-json-1.1"},t}return ue(i,[{key:"listSecrets",value:function(){var e=JSON.stringify({}),t=ae(pe(i.prototype),"buildRequest",this).call(this,this.method,this.host,"/","",e,oe(oe({},this.commonHeaders),{},{"X-Amz-Target":"".concat(this.serviceName,".ListSecrets")})),r=t.url,t=t.headers,t=U().request(this.method,r,e,{headers:t});return this._handle_error("ListSecrets",t),t.json("SecretList").map(function(e){return ye.fromJSON(e)})}},{key:"getSecret",value:function(e){var t=JSON.stringify({SecretId:e}),r=ae(pe(i.prototype),"buildRequest",this).call(this,this.method,this.host,"/","",t,oe(oe({},this.commonHeaders),{},{"X-Amz-Target":"".concat(this.serviceName,".GetSecretValue")})),e=r.url,r=r.headers,r=U().request(this.method,e,t,{headers:r});return this._handle_error("GetSecretValue",r),ye.fromJSON(r.json())}},{key:"createSecret",value:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],n=n||(0,te.v4)(),t=JSON.stringify({Name:e,Description:r,SecretString:t,ClientRequestToken:n,Tags:o}),n=ae(pe(i.prototype),"buildRequest",this).call(this,this.method,this.host,"/","",t,oe(oe({},this.commonHeaders),{},{"X-Amz-Target":"".concat(this.serviceName,".CreateSecret")})),o=n.url,n=n.headers,n=U().request(this.method,o,t,{headers:n});return this._handle_error("CreateSecret",n),ye.fromJSON(n.json())}},{key:"putSecretValue",value:function(e,t){var r=(r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)||(0,te.v4)(),e=JSON.stringify({SecretId:e,SecretString:t,ClientRequestToken:r}),t=ae(pe(i.prototype),"buildRequest",this).call(this,this.method,this.host,"/","",e,oe(oe({},this.commonHeaders),{},{"X-Amz-Target":"".concat(this.serviceName,".PutSecretValue")})),r=t.url,t=t.headers,t=U().request(this.method,r,e,{headers:t});return this._handle_error("PutSecretValue",t),ye.fromJSON(t.json())}},{key:"deleteSecret",value:function(e,t){var r=t.recoveryWindow,r=void 0===r?30:r,t=t.noRecovery,e={SecretId:e};!0===(void 0!==t&&t)?e.ForceDeleteWithoutRecovery=!0:e.RecoveryWindowInDays=r;t=JSON.stringify(e),r=ae(pe(i.prototype),"buildRequest",this).call(this,this.method,this.host,"/","",t,oe(oe({},this.commonHeaders),{},{"X-Amz-Target":"".concat(this.serviceName,".DeleteSecret")})),e=r.url,r=r.headers,r=U().request(this.method,e,t,{headers:r});this._handle_error("DeleteSecret",r)}},{key:"host",get:function(){return"".concat(this.serviceName,".").concat(this.awsConfig.region,".amazonaws.com")}},{key:"_handle_error",value:function(e,t){var r=t.error_code;if(0!==r){var n=t.json();if(1400<=r&&r<=1499){t=n.Message||n.message||n.__type;if("InvalidSignatureException"===n.__type)throw new T(t,n.__type);throw new de(t,n.__type,e)}if(1500===r)throw new de("An error occured on the server side","InternalServiceError",e)}}}]),i}(),ye=function(){function u(e,t,r,n,o,i){var c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[];ie(this,u),this.name=e,this.arn=t,this.secretString=r,this.createdDate=n,this.lastAccessedDate=o,this.lastChangedDate=i,this.tags=c}return ue(u,null,[{key:"fromJSON",value:function(e){return new u(e.Name,e.ARN,e.SecretString,e.CreatedDate,e.LastAccessedDate,e.LastChangeddAt,e.Tags)}}]),u}(),de=function(){se(o,O);var n=le(o);function o(e,t,r){return ie(this,o),(t=n.call(this,e,t)).name="SecretsManagerServiceError",t.operation=r,t}return o}()})();var e,t=exports;for(e in me)t[e]=me[e];me.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})();